<!-- Modal content -->
<div class="modal-content" *ngIf="modalState == '1'">
  <form [formGroup]="forgotPassword" (ngSubmit)="forgotPasswordSend()" >
    <div class="modal-header">
      <h2>Password Not Working, Try A Reset!</h2>
    </div>
    <div class="modal-body">
      <div class="form-group">
        <input type="text" 
        [ngClass]="{'is-invalid': forgotPassword.get('email').errors && forgotPassword.get('email').touched }"
        class="form-control" 
        formControlName="email" 
        placeholder="email">
        <div class="invalid-feedback" *ngIf="forgotPassword.get('email').errors && forgotPassword.get('email').touched">Please enter an email</div>
      </div> 

      <!-- Modal footer -->
    </div>
      <div class="modal-footer">
      <div class="modal-footer">
        <button class="btn btn-success" type="submit" [disabled]="!forgotPassword.valid">Send</button>
        <button type="button" class="btn btn-danger" (click)="closeModal()">Close</button>

        <!-- this button is hidden, used to close from typescript -->
        <!-- <button type="button" id="close-modal" data-dismiss="modal" style="display: none">Close</button> -->
      </div>  
    </div>
  </form>
</div>


<!-- Modal content -->
<div class="modal-content" *ngIf="modalState == '2'">
  <form [formGroup]="forgotPasswordSetPassword" (ngSubmit)="forgotPasswordSetPasswordSend()">
    <div class="modal-header">
      <h2>If your email exists, a key will be sent to it, please enter the key and you're new password</h2>
    </div>
    <div class="modal-body">
      <div class="form-group">
        <input type="text" 
        [ngClass]="{'is-invalid': forgotPasswordSetPassword.get('key').errors && forgotPasswordSetPassword.get('key').touched }"
        class="form-control" 
        formControlName="key" 
        placeholder="key"
        value=""  autocomplete="new-key">
        <div class="invalid-feedback" *ngIf="forgotPasswordSetPassword.get('key').errors && forgotPasswordSetPassword.get('key').touched">Please enter the key</div>
      </div> 

      <div class="form-group">
        <input type="password" 
        [ngClass]="{'is-invalid': forgotPasswordSetPassword.get('password').errors && forgotPasswordSetPassword.get('password').touched }"
        class="form-control" 
        formControlName="password" 
        placeholder="password"
        value=""  autocomplete="new-password">
        <div class="invalid-feedback" *ngIf="forgotPasswordSetPassword.get('password').hasError('required') && forgotPasswordSetPassword.get('password').touched">Password is required &nbsp;</div>
        <div class="invalid-feedback" *ngIf="forgotPasswordSetPassword.get('password').hasError('minlength') && forgotPasswordSetPassword.get('password').touched">password must be at least 4 characters</div>
        <div class="invalid-feedback" *ngIf="forgotPasswordSetPassword.get('password').hasError('maxlength') && forgotPasswordSetPassword.get('password').touched">password must be less than 16 characters</div>
      </div> 
  
      <div class="form-group">
        <input type="password" 
        [ngClass]="{'is-invalid': forgotPasswordSetPassword.get('confirmPassword').errors 
        && forgotPasswordSetPassword.get('confirmPassword').touched
        || forgotPasswordSetPassword.get('confirmPassword').touched
        && forgotPasswordSetPassword.hasError('mismatch') }"
        class="form-control" 
        formControlName="confirmPassword" 
        placeholder=" confirm password"
        value=""  autocomplete="new-confirm-password">
        <div class="invalid-feedback">
          <span *ngIf="forgotPasswordSetPassword.get('confirmPassword').hasError('required') && forgotPasswordSetPassword.get('confirmPassword').touched">passwords is required &nbsp;</span>
          <span *ngIf="forgotPasswordSetPassword.hasError('mismatch')">passwords do not match</span>
        </div>
      </div> 
    </div>
    <div class="modal-footer">
      <button class="btn btn-success" type="submit" [disabled]="!forgotPasswordSetPassword.valid">Send</button>
      <button type="button" class="btn btn-danger" (click)="closeModal()">Close</button>
      <button type="button" class="btn btn-danger" (click)="goBack()">Go Back</button>

      <!-- this button is hidden, used to close from typescript
      <button type="button" id="close-modal" data-dismiss="modal" style="display: none">Close</button> -->
    </div>
  </form>
</div>